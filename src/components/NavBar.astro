<section
  class="flex md:m-0 md:gap-0 items-center justify-center top-0 fixed w-screen max-w-screen z-40 text-white px-10 py-5 md:px-24 md:py-4 uppercase font-bold font-sans rounded-2xl"
>
  <nav class="bg-transparent">
    <div class="w-screen flex flex-wrap items-center px-4 py-2 shadow-xl">
      <a href="/" class="flex items-center w-max mr-auto md:w-1/3 md:mr-0 z-10">
        <img
          src="/images/logosv.svg"
          class="h-8 mr-3"
          alt="codewithfaraz Logo"
        />
        <span
          class="self-center text-2xl font-semibold whitespace-nowrap dark:text-white"
          >SrMaca.</span
        >
      </a>
      <button
        id="navbar-toggle"
        data-collapse-toggle="navbar-default"
        type="button"
        class="inline-flex items-center p-2 w-10 h-10 justify-center text-sm text-gray-500 rounded-lg md:hidden hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-200 dark:text-gray-400 dark:hover:bg-gray-700 dark:focus:ring-gray-600"
        aria-controls="navbar-default"
        aria-expanded="false"
      >
        <span class="sr-only">Open main menu</span>
        <svg
          class="w-5 h-5"
          aria-hidden="true"
          xmlns="http://www.w3.org/2000/svg"
          fill="none"
          viewBox="0 0 17 14"
        >
          <path
            stroke="currentColor"
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M1 1h15M1 7h15M1 13h15"></path>
        </svg>
      </button>
      <div class="hidden md:block w-full md:w-2/3 px-5" id="navbar-default">
        <div
          class="flex flex-col md:flex-row md:justify-evently w-full p-4 md:p-0 mt-4 rounded-lg md:space-x-8 md:mt-0 md:border-0"
        >
          <ul class="md:flex mr-auto">
            <li>
              <a
                href="/"
                class="block py-2 pl-3 pr-4 text-white rounded bg-transparent"
                aria-current="page">INICIO</a
              >
            </li>
            <li>
              <a
                href="/about"
                class="block py-2 pl-3 pr-4 text-white rounded bg-transparent"
                >SOBRE NOSOTROS</a
              >
            </li>

            <li>
              <button
                id="product-toggle"
                data-collapse-toggle="product-default"
                type="button"
                class="block py-2 pl-3 pr-4 text-white rounded bg-transparent"
              >
                PRODUCTOS
              </button>

              <ul
                class="hidden w-full md:w-auto absolute [&>li]:py-4 bg-black bg-opacity-90 backdrop-blur-2xl border borderwhite shadow-lg border-white rounded-lg text-white [&>li]:p-4"
                id="products-default"
              >
                <li>
                  <a href="/buy/testo-plus">Testo Plus</a>
                </li>
                <li>
                  <a href="/buy/cartilago">Cartilago</a>
                </li>
                <li>
                  <a href="/buy/maca-negra">Maca Negra</a>
                </li>
                <li>
                  <a href="/buy/psyllium">Psyllium</a>
                </li>
              </ul>
            </li>
            <li>
              <a
                href="/contact"
                class="block py-2 pl-3 pr-4 text-white rounded bg-transparent"
                >CONTACTO</a
              >
            </li>
          </ul>
          <section
            class="flex gap-4 ml-auto justify-center items-center"
            id="authsection"
          >
          </section>
        </div>
      </div>
    </div>
  </nav>
</section>
<!-- <ul
          class="dropdown hidden absolute left-0 pt-2 space-y-2 border-r border-b [&>li]:p-2 shadow-lg border-white rounded-lg text-white group-hover/products:block hover:block transition-all duration-75 ease-in-out delay-75"
        > -->
<!-- <ul class="dropdown opacity-0 invisible absolute left-0 pt-2 space-y-2 border-r border-b [&>li]:p-2 shadow-lg border-white rounded-lg text-white group-hover/products:opacity-100 group-hover/products:visible hover:opacity-100 hover:visible transition-opacity duration-700 ease-in-out"> -->
<!-- <ul class="dropdown opacity-0 translate-y-[-100%] absolute left-0 pt-2 space-y-2 border-r border-b [&>li]:p-2 shadow-lg border-white rounded-lg text-white group-hover/products:opacity-100 group-hover/products:translate-y-0 hover:opacity-100 hover:translate-y-0 transition-all duration-700 ease-in-out"> -->
<style>
  .dropdown {
    background-color: rgba(255, 255, 255, 0.7);
  }
</style>

<script>
  document.addEventListener("DOMContentLoaded", function () {
    const authSection = document.getElementById("authsection");
    const authCookie = getCookie("Auth");
    if (authCookie) {
      authSection.innerHTML = `
          <ul>
            <li>
              <a href="/user/profile" class="block py-2 pl-3 pr-4 text-gray-900 rounded hover:bg-gray-100 md:hover:bg-transparent md:border-0 md:hover:text-blue-700 md:p-0 dark:text-white md:dark:hover:text-blue-500 dark:hover:bg-gray-700 dark:hover:text-white md:dark:hover:bg-transparent">Mi Perfil</a>
            </li>
            <li>
              <button id="logoutbutton">Logout</button>
            </li>
          </ul>
        `;
    } else {
      authSection.innerHTML = `
          <ul>
            <li>
              <a href="/auth/login" class="block py-2 pl-3 pr-4 text-gray-900 rounded hover:bg-gray-100 md:hover:bg-transparent md:border-0 md:hover:text-blue-700 md:p-0 dark:text-white md:dark:hover:text-blue-500 dark:hover:bg-gray-700 dark:hover:text-white md:dark:hover:bg-transparent">Login</a>
            </li>
            <li>
              <a href="/auth/register" class="block py-2 pl-3 pr-4 text-gray-900 rounded hover:bg-gray-100 md:hover:bg-transparent md:border-0 md:hover:text-blue-700 md:p-0 dark:text-white md:dark:hover:text-blue-500 dark:hover:bg-gray-700 dark:hover:text-white md:dark:hover:bg-transparent">Register</a>
            </li>
          </ul>
        `;
    }
  });
  function getCookie(name) {
    const value = `; ${document.cookie}`;
    const parts = value.split(`; ${name}=`);
    if (parts.length === 2) return parts.pop().split(";").shift();
  }

  document.addEventListener("DOMContentLoaded", function () {
    const button = document.getElementById("navbar-toggle");
    const menu = document.getElementById("navbar-default");
    const buttonproducts = document.getElementById("product-toggle");
    const dropdown = document.getElementById("products-default");
    const logoutbutton = document.getElementById("logoutbutton");

    logoutbutton.addEventListener("click", function () {
      document.cookie = "Auth=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;";
      window.location.href = "/";
    });

    buttonproducts.addEventListener("click", function () {
      dropdown.classList.toggle("hidden");
    });

    button.addEventListener("click", function () {
      menu.classList.toggle("hidden");
      menu.classList.add("bg-transparent");
      menu.classList.add("backdrop-blur-3xl");
      menu.classList.add("rounded-lg");
      menu.classList.add("border");
      menu.classList.add("border-white");
    });
  });
</script>
